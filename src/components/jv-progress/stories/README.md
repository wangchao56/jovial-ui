# JvProgress 进度条组件

## 1. 介绍组件

JvProgress是一个用于显示操作进度的组件，支持线性和环形两种形式。

## 2. 布局结构使用方式

基本使用示例：

```vue
<!-- 线性进度条 -->
<JvProgress :progress="50" />

<!-- 环形进度条 -->
<JvProgress shape="circle" :progress="75" />
```

## 3. 样式

可以通过各种属性自定义进度条样式：

```vue
<!-- 自定义颜色和大小的线性进度条 -->
<JvProgress 
  :progress="60" 
  color="#FF5722" 
  :width="400" 
  :height="8" 
/>

<!-- 自定义环形进度条 -->
<JvProgress 
  shape="circle" 
  :progress="80" 
  color="#4CAF50" 
  :width="120" 
/>
```

## 4. 交互

进度条会随着progress属性的变化而平滑过渡。

## 5. 可访问性

- 进度条提供视觉反馈，帮助用户了解操作的完成进度
- 组件应与适当的ARIA属性一起使用，以增强无障碍体验

## 6. Vue API

### Props


| 属性名   | 类型              | 默认值    | 说明                       |
| -------- | ----------------- | --------- | -------------------------- |
| progress | number            | 0         | 进度值，范围0-100          |
| color    | string            | '#1976d2' | 进度条颜色                 |
| width    | number            | 100       | 组件宽度（像素）           |
| height   | number            | 4         | 线性进度条高度（像素）     |
| shape    | 'line'\| 'circle' | 'line'    | 进度条形状，支持线性和环形 |


# JvProgress组件测试用例表格

| 测试ID | 测试场景 | 测试描述 | 测试步骤 | 预期结果 | 测试状态 |
|--------|---------|---------|---------|----------|---------|
| JP-001 | 基本渲染 | 验证组件能够正确渲染 | 1. 挂载JvProgress组件<br>2. 检查组件类名 | 组件应包含'jv-progress'类名并正确渲染SVG元素 | 通过 ✅ |
| JP-002 | 默认形状 | 验证默认渲染线性进度条 | 1. 挂载JvProgress组件<br>2. 检查进度条元素 | 应呈现包含track和progress元素的线性进度条 | 通过 ✅ |
| JP-003 | 进度值 | 验证自定义进度值正确显示 | 1. 设置progress=75挂载组件<br>2. 检查进度条宽度和ARIA属性 | 进度条宽度应为75%，aria-valuenow应为"75" | 通过 ✅ |
| JP-004 | 自定义颜色 | 验证可自定义进度条颜色 | 1. 设置color="#ff0000"挂载组件<br>2. 检查进度条颜色 | 进度条应应用红色填充色 | 通过 ✅ |
| JP-005 | 自定义尺寸 | 验证可自定义组件宽高 | 1. 设置width=200和height=10挂载组件<br>2. 检查SVG尺寸 | SVG宽度应为200px，高度应为10px | 通过 ✅ |
| JP-006 | 不确定模式 | 验证不确定模式的渲染 | 1. 设置indeterminate=true挂载组件<br>2. 检查组件类名和元素 | 应添加indeterminate类名并显示动画进度条 | 通过 ✅ |
| JP-007 | 缓冲条功能 | 验证缓冲条能正确显示 | 1. 设置buffer=true和bufferProgress=80挂载组件<br>2. 检查缓冲条元素 | 应显示宽度为80%的缓冲条 | 通过 ✅ |
| JP-008 | 圆形进度条 | 验证圆形进度条的渲染 | 1. 设置shape="circle"挂载组件<br>2. 检查圆形元素 | 应显示使用stroke-dashoffset的圆形进度条 | 通过 ✅ |
| JP-009 | 无障碍属性 | 验证ARIA属性正确设置 | 1. 挂载组件<br>2. 检查ARIA属性 | 应设置role=progressbar及相应的aria-value属性 | 通过 ✅ |
| JP-010 | 完成状态 | 验证进度完成时ARIA状态变化 | 1. 设置progress=100挂载组件<br>2. 检查aria-busy属性 | aria-busy属性应为"false" | 通过 ✅ |
| JP-011 | 内容插槽 | 验证圆形进度条的内容插槽 | 1. 设置shape="circle"并提供默认插槽<br>2. 检查内容渲染 | 应在圆环中心显示插槽内容 | 通过 ✅ |
| JP-012 | 线性渐变 | 验证线性进度条支持渐变色 | 1. 设置使用渐变的颜色<br>2. 检查渐变定义和应用 | 应正确定义并应用线性渐变 | 待测试 ⏳ |
| JP-013 | 径向渐变 | 验证圆形进度条支持渐变色 | 1. 设置shape="circle"和使用渐变的颜色<br>2. 检查渐变定义和应用 | 应正确定义并应用径向渐变 | 待测试 ⏳ |
| JP-014 | 动画效果 | 验证进度变化时的过渡动画 | 1. 挂载组件后更新progress属性<br>2. 检查过渡效果 | 进度条宽度应平滑过渡到新值 | 待测试 ⏳ |
| JP-015 | 不确定动画 | 验证不确定模式的动画效果 | 1. 设置indeterminate=true挂载组件<br>2. 检查动画属性 | 应应用无限循环的动画效果 | 待测试 ⏳ |
| JP-016 | 圆角样式 | 验证进度条圆角设置 | 1. 检查默认圆角<br>2. 自定义圆角并检查效果 | 应正确应用圆角效果 | 待测试 ⏳ |
| JP-017 | 轨道样式 | 验证轨道颜色和透明度 | 1. 自定义trackColor属性<br>2. 检查轨道样式 | 应正确应用自定义轨道颜色 | 待测试 ⏳ |
| JP-018 | 响应式尺寸 | 验证组件在不同容器中的响应式表现 | 1. 在不同宽度的容器中挂载组件<br>2. 检查组件适应性 | 组件应正确适应不同尺寸的容器 | 待测试 ⏳ |
| JP-019 | 边界值处理 | 验证处理边界进度值(0%和100%) | 1. 测试progress=0和progress=100<br>2. 检查显示效果 | 0%时不应显示进度，100%时应完全填充 | 待测试 ⏳ |
| JP-020 | 无障碍焦点 | 验证组件可以接收键盘焦点 | 1. 通过Tab键导航到组件<br>2. 检查焦点状态 | 组件应接收焦点并显示焦点指示器 | 待测试 ⏳ |

## 测试技术说明

本测试套件使用以下技术和方法：

1. **测试框架**：使用Vitest作为测试运行器
2. **组件挂载**：使用@vue/test-utils的mount函数创建组件实例
3. **断言库**：使用Vitest内置的expect函数进行断言
4. **选择器**：使用类选择器和属性选择器查找DOM元素
5. **属性检查**：验证元素的类名、样式和属性
6. **ARIA测试**：验证无障碍相关属性的正确性

## 测试覆盖范围

测试覆盖了JvProgress组件的以下功能：

1. **基本渲染**：组件正常挂载和渲染
2. **形状变体**：线性进度条和圆形进度条
3. **进度表示**：正确显示和更新进度值
4. **自定义样式**：颜色、尺寸、圆角等定制选项
5. **特殊状态**：不确定模式、缓冲状态
6. **无障碍支持**：ARIA属性和键盘导航
7. **动画效果**：过渡和循环动画
8. **插槽功能**：内容自定义

这些测试确保JvProgress组件能够在各种场景下正确工作，提供良好的用户体验和无障碍性支持。
